---
layout: default
title: "Today I learned 19.08.27.
tags: tiles JSP JSTL
---
[TOC]

# Today I learned 19.08.27.
- 아침 신문 같이 서비스를 만들어보면 어떨까 한다.

## # 오늘 본 자료들


## # tiles
- Setting 과정
	1. Maven dependency 추가 : pom.xml에서 수정
        ```xml
        <!-- tiles -->
		<dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-extras</artifactId>
            <version>3.0.8</version>
          </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-servlet</artifactId>
            <version>3.0.8</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-jsp</artifactId>
            <version>3.0.8</version>
        </dependency>
        ```
	2. servlet-context.xml 설정 추가
		```xml
        <!-- Tiles -->
        <!-- tiles 설정 파일의 경로를 지정 -->
        <beans:bean id="tilesConfigurer"
            class="org.springframework.web.servlet.view.tiles3.TilesConfigurer">
            <beans:property name="definitions">
                <beans:list>
                    <beans:value>/WEB-INF/tiles/tiles.xml</beans:value>
                </beans:list>
            </beans:property>
        </beans:bean>
        <!-- View Rosolver의 랜더링? 순서를 수정하는 부분 -->
        <beans:bean id="tilesViewResolver"
            class="org.springframework.web.servlet.view.UrlBasedViewResolver">
            <beans:property name="viewClass"
                value="org.springframework.web.servlet.view.tiles3.TilesView" />
            <beans:property name="order" value="1" />
        </beans:bean>
        ```
	3. 지정한 경로에 tiles.xml 파일 생성(이름과 경로가 일치하게끔)
		```xml
        <?xml version="1.0" encoding="UTF-8"?>
		<!DOCTYPE tiles-definitions PUBLIC
  		"-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN"
  		"http://tiles.apache.org/dtds/tiles-config_3_0.dtd">
		<tiles-definitions>
        
            <!-- 관리자 템플릿 -->
            <definition name="admin" template="/WEB-INF/tiles/admin/template.jsp">
                <put-attribute name="menu"   value="/WEB-INF/tiles/admin/menu.jsp" />
                <put-attribute name="left"   value="/WEB-INF/tiles/left.jsp" />
                <put-attribute name="header" value="/WEB-INF/tiles/header.jsp" />
                <put-attribute name="footer" value="/WEB-INF/tiles/footer.jsp" />
            </definition>
            
		</tiles-definitions>
		```
        
	4. template.jsp 파일 작성
		- 이름은 자유. 사실 선행하는 부분이 어느 쪽 인지는 스스로가 결정해야할 문제임. 템플릿 구조가 잡혀 있어야 설정을 할 수 있을테니.
		- JSP 페이지 생성(이름 맞출 것)
		- taglib 추가
			```jsp
        		<%@ taglib prefix="tiles" uri="http://tiles.apache.org/tags-tiles"%>
        	```
        - div 태그로 타일 구분
        	```jsp
            <div id="top_menu">
				<tiles:insertAttribute name="menu" />
			</div>
			<div id="left">
				<tiles:insertAttribute name="left" />
			</div>
            <div id="main">
                <tiles:insertAttribute name="body" />
            </div>
            <div id="footer">
                <tiles:insertAttribute name="footer" />
            </div>
            ```
            - div의 id는 css 수정을 위한 것
            - tiles:insertAttribute의 name 속성 값이 tiles configuration을 위한 xml파일에서 사용하는 이름